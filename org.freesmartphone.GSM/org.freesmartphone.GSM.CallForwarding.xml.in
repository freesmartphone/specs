<?xml version="1.0"?>
<node name="/" xmlns:fso="http://www.freesmartphone.org/schemas/DBusSpecExtension" xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd" doc:id="freesmartphone-gsm-call-forwarding-interface">
    <doc:doc>
      <doc:summary>freesmartphone.org GSM Call Forwarding Interface</doc:summary>
      <doc:version>0.1.0</doc:version>
    </doc:doc>

    <interface name="org.freesmartphone.GSM.CallForwarding">
        <doc:doc>
            <doc:para>
                The call forwarding interface allows to access the call forwarding
                supplementary service according to 3GPP TS 22.082. It supports
                enabling and disabling different voice related call forwarding rules
                and to query their current status.
            </doc:para>
        </doc:doc>

        <method name="DisableAll">
            <doc:doc>
                <doc:description>
                    Disable all (or only conditional) call forwarding rules.
                </doc:description>
            </doc:doc>
            <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
            <arg name="type" type="s" direction="in">
                <doc:doc>
                    <doc:summary>
                        Type of call forwarding rules to disable. Expected values are
                        [ul]
                            [li]"all": disable all rules,[/li]
                            [li]"conditional": disable only coniditonal rules
                                (e.g. busy, not reachable, no reply).[/li]
                        [/ul]
                    </doc:summary>
                </doc:doc>
            </arg>
            <fso:throws type="org.freesmartphone"/>
            <fso:throws type="org.freesmartphone.GSM"/>
        </method>

        <method name="Enable">
            <doc:doc>
                <doc:description>
                    Enable a call forwarding rule. The corresponding properties for the
                    specified rules will be populated with the values specified.
                </doc:description>
            </doc:doc>
            <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
            <arg name="rule" type="s" direction="in">
                <doc:doc>
                    <doc:summary>
                        Call forwarding rule to assign a number and timeout for. Expected values are:
                        [ul]
                            [li]"voice unconditional",[/li]
                            [li]"voice busy",[/li]
                            [li]"voice no reply",[/li]
                            [li]"voice not reachable".[/li]
                        [/ul]
                    </doc:summary>
                </doc:doc>
            </arg>
            <arg name="number" type="s" direction="in">
                <doc:doc>
                    <doc:summary>
                        Number the call should be forwarded too. Should be either in national
                        or international format.
                    </doc:summary>
                </doc:doc>
            </arg>
            <arg name="timeout" type="i" direction="in">
                <doc:doc>
                    <doc:summary>
                        Timeout after the call forwarding rule should become active. Only accepted
                        if rule is "voice no reply".
                    </doc:summary>
                </doc:doc>
            </arg>
            <fso:throws type="org.freesmartphone.GSM" />
            <fso:throws type="org.freesmartphone" />
        </method>

        <method name="Disable">
            <doc:doc>
                <doc:description>
                    Disable a call forwarding rule.
                </doc:description>
            </doc:doc>
            <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
            <arg name="rule" type="s" direction="in">
                <doc:doc>
                    <doc:summary>
                        Name of the call forwarding rule. See
                        org.freesmartphone.GSM.CallForwarding.Enable for a list
                        of valid values.
                        The corresponding property for the rule will be unset.
                    </doc:summary>
                </doc:doc>
            </arg>
            <fso:throws type="org.freesmartphone.GSM" />
            <fso:throws type="org.freesmartphone" />
        </method>

        <method name="GetStatus">
            <doc:doc>
                <doc:description>
                    Retrieve the current status for a call forwarding rule.
                </doc:description>
            </doc:doc>
            <arg name="rule" type="s" direction="in">
                <doc:doc>
                    <doc:summary>
                        Name of the call forwarding rule. See
                        org.freesmartphone.GSM.CallForwarding.Enable for a list
                        of valid values.
                    </doc:summary>
                </doc:doc>
            </arg>
            <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
            <arg name="status" type="(bsi)" fso:type="org.freesmartphone.GSM.CallForwardingStatus" direction="out">
                <doc:doc>
                    <doc:summary>
                    </doc:summary>
                </doc:doc>
            </arg>
            <fso:throws type="org.freesmartphone.GSM" />
            <fso:throws type="org.freesmartphone" />
        </method>
    </interface>

    <fso:struct name="org.freesmartphone.GSM.CallForwardingStatus">
        <fso:field name="active" type="b"/>
        <fso:field name="number" type="s"/>
        <fso:field name="timeout" type="i"/>
    </fso:struct>
</node>
