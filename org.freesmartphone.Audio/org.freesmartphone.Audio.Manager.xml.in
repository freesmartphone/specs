<?xml version="1.0"?>
<node name="/" xmlns:fso="http://www.freesmartphone.org/schemas/DBusSpecExtension" xmlns:doc="http://www.freedesktop.org/dbus/1.0/doc.dtd" doc:id="freesmartphone-audio-manager-interface">

<doc:doc>
  <doc:summary>freesmartphone.org Audio Manager Interface</doc:summary>
  <doc:version>0.1</doc:version>
  <doc:source>git.freesmartphone.org</doc:source>
  <doc:maintainer>Simon Busch</doc:maintainer>
</doc:doc>

<interface name="org.freesmartphone.Audio.Manager">

    <method name="SetMode">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
        <doc:doc>
            <doc:description>
            Set the current audio mode. Currently there is only a difference between
            normal and call. Normal means all audio use when not in a phone call and call
            means all audio within a phone call.
            </doc:description>
        </doc:doc>
        <arg name="mode" direction="in" type="s" fso:type="org.freesmartphone.Audio.Mode"/>
        <fso:throws type="org.freesmartphone.Audio"/>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="GetCurrentMode">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
        <doc:doc>
            <doc:description>
            Get the current audio mode which is used.
            </doc:description>
        </doc:doc>
        <arg name="mode" direction="out" type="s" fso:type="org.freesmartphone.Audio.Mode"/>
        <fso:throws type="org.freesmartphone.Audio"/>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="SetOutputDevice">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
        <doc:doc>
            <doc:description>
            Set the current audio output device which is used only within the current mode. If
            you switch mode then the manager will switch even the output to the last used
            one in the other mode.
            </doc:description>
        </doc:doc>
        <arg name="name" direction="in" type="s" fso:type="org.freesmartphone.Audio.Device"/>
        <fso:throws type="org.freesmartphone.Audio"/>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="GetCurrentOutputDevice">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
        <doc:doc>
            <doc:description>
            Get the current audio output device.
            </doc:description>
        </doc:doc>
        <arg name="device" direction="out" type="s" fso:type="org.freesmartphone.Audio.Device"/>
        <fso:throws type="org.freesmartphone.Audio"/>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="GetAvailableOutputDevices">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true" />
        <doc:doc>
            <doc:description>
            Get all available audio outputs for the specified audio mode.
            </doc:description>
        </doc:doc>
        <arg name="mode" direction="in" type="s" fso:type="org.freesmartphone.Audio.Mode"/>
        <arg name="outputs" direction="out" type="as" fso:type="org.freesmartphone.Audio.Device">
            <doc:doc>
                <doc:description>
                List of available output devices.
                </doc:description>
            </doc:doc>
        </arg>
        <fso:throws type="org.freesmartphone.Audio"/>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="SetMicrophoneMute">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true"/>
        <doc:doc>
            <doc:description>
            Set the mute state of the microphone.
            </doc:description>
        </doc:doc>
        <arg name="mute" direction="in" type="b"/>
        <fso:throws type="org.freesmartphone.Audio"/>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="GetMicrophoneMute">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true"/>
        <doc:doc>
            <doc:description>
            Get the mute state of the microphone.
            </doc:description>
        </doc:doc>
        <arg name="mute" direction="out" type="b"/>
        <fso:throws type="org.freesmartphone.Audio"/>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="SetVolume">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true"/>
        <arg direction="in" type="i" name="volume">
            <doc:doc>
                <doc:summary>
                    The volume in percent (0-100).
                </doc:summary>
            </doc:doc>
        </arg>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="Mute">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true"/>
        <doc:doc>
            <doc:description>
            Mute current output device.
            </doc:description>
        </doc:doc>
        <fso:throws type="org.freesmartphone"/>
    </method>

    <method name="Unmute">
        <annotation name="org.freedesktop.DBus.GLib.Async" value="true"/>
        <doc:doc>
            <doc:description>
            Unmute current output device.
            </doc:description>
        </doc:doc>
        <fso:throws type="org.freesmartphone"/>
    </method>


</interface>

<fso:errordomain name="org.freesmartphone.Audio" fso:no-container="true">
    <error name="NotSupported"/>
</fso:errordomain>

<fso:enumeration name="org.freesmartphone.Audio.Mode" type="s">
    <fso:member name="normal" value="normal"/>
    <fso:member name="call" value="call"/>
</fso:enumeration>

<fso:enumeration name="org.freesmartphone.Audio.Device" type="s">
    <fso:member name="backspeaker" value="backspeaker"/>
    <fso:member name="frontspeaker" value="frontspeaker"/>
    <fso:member name="headset" value="headset"/>
    <fso:member name="bluetooth-sco" value="bluetooth-sco"/>
    <fso:member name="bluetooth-a2dp" value="bluetooth-a2dp"/>
</fso:enumeration>

</node>
