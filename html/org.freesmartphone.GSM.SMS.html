
<!-- Warning: This file has been autogenerated by tools/makedoc.py. Manual edits will be overwritten. -->
<html>
    <head>
        <title>freesmartphone.org GSM SMS Interface</title>
        <link rel="stylesheet" type="text/css" href="http://git.freesmartphone.org/?p=specs.git;a=blob_plain;f=html/style.css;hb=HEAD" />
    </head>
    <body>
    <div class="topbox">freesmartphone.org Framework DBus Interface Specification</div>


<h1>org.freesmartphone.GSM.SMS</h1><h2>Description</h2>
<p>The SMS interface is used to send and signal incoming short messages (SMS) directly, i.e.  as opposed to using the SIM interface which always buffers short messages on the SIM  after receiving and before sending.</p>
<h2>Namespace</h2>
<p><tt>org.freesmartphone.GSM.SMS</tt></p>
<h2>Methods</h2><ul>
<li><a href="#SendTextMessage">SendTextMessage</a></li>
<li><a href="#SendMessage">SendMessage</a></li>
<li><a href="#AckMessage">AckMessage</a></li>
<li><a href="#NackMessage">NackMessage</a></li>
</ul>
<h2>Signals</h2><ul>
<li><a href="#IncomingMessage">IncomingMessage</a></li>
<li><a href="#IncomingMessageReceipt">IncomingMessageReceipt</a></li>
</ul>
<h2>Errors</h2><i>None</i>
<h1>Methods</h1><h3><a name="SendTextMessage">SendTextMessage</a> ( ssb ) &rarr; is</h3>
<p><i>Description:</i> Sends a text message via the GSM Short Message Service (SMS) </p><p><div class="rationale"><p>Text messages can be of unlimited length. They might get fragmented by the underlying transport layers though. </p></div></p><h4>Parameters</h4><i>s: recipient_number</i><p>The number of the recipient. </p><i>s: contents</i><p>The contents of the message. </p><i>b: want_report</i><p>If true, status reports (message receipts) will be sent by the SMSC, delivered via the  <a href="http://docs.freesmartphone.org/org.freesmartphone.GSM.SMS.html#IncomingMessageReceipt">IncomingMessageReceipt</a> signal. </p><h4>Returns</h4><i>i: transaction_index</i><p>The given transaction index for this message. This is the message-reference number of this message. </p><i>s: timestamp</i><p>The timestamp this message was received by the SMSC. </p>
<h3><a name="SendMessage">SendMessage</a> ( ssa{sv} ) &rarr; is</h3>
<p><i>Description:</i> Sends a message via the GSM Short Message Service (SMS) </p><p><div class="rationale"><p>This maps to the GSM 07.05 command +CMGS=..., see 3GPP TS 07.05 Chapter 3.5.1 (text mode)  and 4.3 (pdu mode). </p></div></p><h4>Parameters</h4><i>s: recipient_number</i><p>The number of the recipient. </p><i>s: contents</i><p>The contents of the message. </p><i>a{sv}: properties</i><p>Additional properties of the message.  Valid properties are:  <ul>  <li>(string:alphabet) = Encoding of the short message, must be one of "gsm_default", "usc2" or "binary"</li>  <li>(bool:reject-duplicates) = If true the SMSC shall reject messages with the same message-reference as this one (default false)</li>  <li>(bool:reply-path) = If true requests a reply path, see 3GPP TS 03.40 Annex D for more information.</li>  <li>(bool:status-report-request) = If true the SMSC will send us reports about the status of our message. These can be received via the <a href="http://docs.freesmartphone.org/org.freesmartphone.GSM.SMS.html#IncomingMessageReceipt">IncomingMessageReceipt</a> signal.</li>  <li>(int:message-reference) = Message reference number with which the message can be identified.</li>  <li>(int:pid) = Numerical representation of the protocol identifier</li>  <li>(int:message-class) = Numerical representation of the message class</li>  <li>(a(int):data) = If alphabet is "binary" the userdata is stored in this field</li>  <li>Properties for concatenated short messages (CSM):  <ul>  <li>(int:csm_id) = Id of the csm (messages belonging to the same csm must have the same id),</li>  <li>(int:csm_num) = Total number of messages in this csm,</li>  <li>(int:csm_seq) = Number defining the order of the messages in the csm.</li>  </ul>  </li>  <li>Properties for port addressing (similar to UDP ports):  <ul>  <li>(int:src_port) = Source port this short message comes from,</li>  <li>(int:dst_port) = Destination port this short message should be routed to,</li>  <li>(int:port_size) = Either 8 for 8-bit or 16 for 16-bit port addressing.</li>  </ul>  </li>  <li>Properties for message indication:  </ul>  <li>(int:message-indication-type) = Type of messages that are waiting,</li>  <li>(int:message-indication-count) = Number of messages that are waiting.</li>  </ul>  </li>  </ul> </p><h4>Returns</h4><i>i: transaction_index</i><p>The given transaction index for this message. This is the message-reference number of this message. </p><i>s: timestamp</i><p>The timestamp this message was received by the SMSC. </p>
<h3><a name="AckMessage">AckMessage</a> ( sa{sv} )</h3>
<p><i>Description:</i> Acknowledges the receipt of a message via the GSM Short Message Service (SMS). Every message that has been delivered with the IncomingMessage signal needs to be either acked or nacked. </p><p><div class="rationale"><p>This maps to the GSM 07.05 command +CNMA=..., see 3GPP TS 07.05 Chapter 3.4.4 (text mode)  and 4.6 (pdu mode). </p></div></p><h4>Parameters</h4><i>s: contents</i><p>Optional text to send along with the acknowledgement. Will usually be empty. </p><i>a{sv}: properties</i><p>Additional properties of the message.  Valid properties are:  <ul>  <li>(string:alphabet) = Encoding of the short message, must be one of "gsm_default", "usc2" or "binary"</li>  <li>(int:pid) = Numerical representation of the protocol identifier</li>  <li>(int:message-class) = Numerical representation of the message class</li>  <li>(a(int):data) = If alphabet is "binary" the userdata is stored in this field</li>  <li>Properties for concatenated short messages (CSM):  <ul>  <li>(int:csm_id) = Id of the csm (messages belonging to the same csm must have the same id),</li>  <li>(int:csm_num) = Total number of messages in this csm,</li>  <li>(int:csm_seq) = Number defining the order of the messages in the csm.</li>  </ul>  </li>  <li>Properties for port addressing (similar to UDP ports):  <ul>  <li>(int:src_port) = Source port this short message comes from,</li>  <li>(int:dst_port) = Destination port this short message should be routed to,</li>  <li>(int:port_size) = Either 8 for 8-bit or 16 for 16-bit port addressing.</li>  </ul>  </li>  <li>Properties for message indication:  <ul>  <li>(int:message-indication-type) = Type of messages that are waiting,</li>  <li>(int:message-indication-count) = Number of messages that are waiting.</li>  </ul>  </li>  </ul> </p>
<h3><a name="NackMessage">NackMessage</a> ( sa{sv} )</h3>
<p><i>Description:</i> Reports that an error has occured during the receipt of a message via the GSM Short Message Service (SMS). Every message that has been delivered with the IncomingMessage signal needs to be either acked or nacked. </p><p><div class="rationale"><p>This maps to the GSM 07.05 command +CNMA=..., see 3GPP TS 07.05 Chapter 3.4.4 (text mode)  and 4.6 (pdu mode). </p></div></p><h4>Parameters</h4><i>s: contents</i><p>Optional text to send along with the negative acknowledgement. Will usually be empty. </p><i>a{sv}: properties</i><p>Additional properties of the message.  Valid properties are:  <ul>  <li>(int:fcs) = Integer representation of the failure cause. If unset it will be 0xff (unspecified error).</li>  <li>(string:alphabet) = Encoding of the short message, must be one of "gsm_default", "usc2" or "binary"</li>  <li>(int:pid) = Numerical representation of the protocol identifier</li>  <li>(int:message-class) = Numerical representation of the message class</li>  <li>(a(int):data) = If alphabet is "binary" the userdata is stored in this field</li>  <li>Properties for concatenated short messages (CSM):  <ul>  <li>(int:csm_id) = Id of the csm (messages belonging to the same csm must have the same id),</li>  <li>(int:csm_num) = Total number of messages in this csm,</li>  <li>(int:csm_seq) = Number defining the order of the messages in the csm.</li>  </ul>  </li>  <li>Properties for port addressing (similar to UDP ports):  <ul>  <li>(int:src_port) = Source port this short message comes from,</li>  <li>(int:dst_port) = Destination port this short message should be routed to,</li>  <li>(int:port_size) = Either 8 for 8-bit or 16 for 16-bit port addressing.</li>  </ul>  </li>  <li>Properties for message indication:  <ul>  <li>(int:message-indication-type) = Type of messages that are waiting,</li>  <li>(int:message-indication-count) = Number of messages that are waiting.</li>  </ul>  </li>  </ul> </p>
<h1>Signals</h1><h3><h3><a name="IncomingMessage">IncomingMessage</a> ( ssa{sv} )</h3><p><i>Description:</i> Sent, when a message has been received. The receipt of a message needs to be either acked or nacked with the <a href="http://docs.freesmartphone.org/org.freesmartphones.GSM.SMS.html#AckMessage">AckMessage</a> or <a href="http://docs.freesmartphone.org/org.freesmartphone.GSM.SMS.html#NackMessage">NackMessage</a> methods. </p><h4>Parameters</h4><i>s: sender_number</i><p>The number of the sender. </p><i>s: contents</i><p>The contents of the message. </p><i>a{sv}: properties</i><p>Additional properties of the message.  Valid properties are:  <ul>  <li>(string:type) = Type of the message, will be "sms-deliver"</li>  <li>(string:alphabet) = Encoding of the short message, must be one of "gsm_default", "usc2" or "binary"</li>  <li>(bool:more-messages-to-send) = If true indicates that the SMSC will send more messages.</li>  <li>(bool:reply-path) = If true indicates that a reply path has been set, see 3GPP TS 03.40 Annex D for more information.</li>  <li>(bool:status-report-indicator) = If true the sender of this message has requested status reports.</li>  <li>(int:pid) = Numerical representation of the protocol identifier</li>  <li>(int:message-class) = Numerical representation of the message class</li>  <li>(a(int):data) = If alphabet is "binary" the userdata is stored in this field</li>  <li>(string:timestamp) = A timestamp indicating when the SMSC received the message.  <li>Properties for concatenated short messages (CSM):  <ul>  <li>(int:csm_id) = Id of the csm (messages belonging to the same csm must have the same id),</li>  <li>(int:csm_num) = Total number of messages in this csm,</li>  <li>(int:csm_seq) = Number defining the order of the messages in the csm.</li>  </ul>  </li>  <li>Properties for port addressing (similar to UDP ports):  <ul>  <li>(int:src_port) = Source port this short message comes from,</li>  <li>(int:dst_port) = Destination port this short message should be routed to,</li>  <li>(int:port_size) = Either 8 for 8-bit or 16 for 16-bit port addressing.</li>  </ul>  </li>  <li>Properties for message indication:  <ul>  <li>(int:message-indication-type) = Type of messages that are waiting,</li>  <li>(int:message-indication-count) = Number of messages that are waiting.</li>  </ul>  </li>  </ul> </p></h3>
<h3><h3><a name="IncomingMessageReceipt">IncomingMessageReceipt</a> ( ssa{sv} )</h3><p><i>Description:</i> Sent when a status report for a message has been received. Status reports for messages can be requested by setting the property "status-report-request" to True when sending messages through <a href="http://docs.freesmartphone.org/org.freesmartphone.GSM.SMS.html#SendMessage">SendMessage</a> </p><h4>Parameters</h4><i>s: sender_number</i><p>The number of the sender. </p><i>s: contents</i><p>Optional contents of the receipt. Will usually be empty. </p><i>a{sv}: properties</i><p>Additional properties of the message.  Valid properties are:  <ul>  <li>(string:type) = Type of the message, will be "sms-status-report"</li>  <li>(string:alphabet) = Encoding of the short message, must be one of "gsm_default", "usc2" or "binary" if present.</li>  <li>(bool:more-messages-to-send) = If true indicates that the SMSC will send more messages.</li>  <li>(bool:status-report-qualifier) = Indicates what triggered this status report, will be one of "sms-submit" or "sms-command".</li>  <li>(int:pid) = Numerical representation of the protocol identifier</li>  <li>(int:message-class) = Numerical representation of the message class</li>  <li>(a(int):data) = If alphabet is "binary" the userdata is stored in this field</li>  <li>(int:message-reference) = Message reference number of the message the status report is about.</li>  <li>(string:timestamp) = A timestamp indicating when the SMSC received the original message.</li>  <li>(string:discharge-time) = A timestamp indicating when the current status change has taken place.</li>  <li>(int:status) = Integer representation of the status.</li>  <li>(string:status-message) = A string conveying the meaning of the status.</li>  <li>Properties for concatenated short messages (CSM):  <ul>  <li>(int:csm_id) = Id of the csm (messages belonging to the same csm must have the same id),</li>  <li>(int:csm_num) = Total number of messages in this csm,</li>  <li>(int:csm_seq) = Number defining the order of the messages in the csm.</li>  </ul>  </li>  <li>Properties for port addressing (similar to UDP ports):  <ul>  <li>(int:src_port) = Source port this short message comes from,</li>  <li>(int:dst_port) = Destination port this short message should be routed to,</li>  <li>(int:port_size) = Either 8 for 8-bit or 16 for 16-bit port addressing.</li>  </ul>  </li>  <li>Properties for message indication:  <ul>  <li>(int:message-indication-type) = Type of messages that are waiting,</li>  <li>(int:message-indication-count) = Number of messages that are waiting.</li>  </ul>  </li>  </ul> </p></h3>

    <hr/>
    <small>
    | Specified 2008-2009 by the <a href="http://www.freesmartphone.org">Freesmartphone.org</a> team. | Join us and discuss further drafts smartphones-standards (at) linuxtogo (dot) org
    </small>
    <hr/>
    </body>
</html>

