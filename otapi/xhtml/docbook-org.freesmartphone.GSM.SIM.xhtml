<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>freesmartphone.org GSM SIM Interface</title><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /></head><body><div class="reference" lang="en" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="freesmartphone-gsm-sim-interface"></a>freesmartphone.org GSM SIM Interface</h1></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="refentrytitle"><a href="#SIM">org.freesmartphone.GSM.SIM</a></span><span class="refpurpose"> — SIM interface</span></dt></dl></div><div class="refentry" lang="en" xml:lang="en"><a id="SIM"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>org.freesmartphone.GSM.SIM — SIM interface</p></div><div class="refsynopsisdiv"><h2>Methods</h2><pre class="synopsis"><a class="link" href="#SIM.SetEnableAuthCodeCheck">SetEnableAuthCodeCheck</a> (in  'b'check)
<a class="link" href="#SIM.GetEnableAuthCodeCheck">GetEnableAuthCodeCheck</a> (out 'b'check)
<a class="link" href="#SIM.GetAuthStatus">GetAuthStatus</a>          (out 's'status)
<a class="link" href="#SIM.SendAuthCode">SendAuthCode</a>           (in  's'pin)
<a class="link" href="#SIM.Unlock">Unlock</a>                 (in  's'puk,
                        in  's'new_pin)
<a class="link" href="#SIM.ChangeAuthCode">ChangeAuthCode</a>         (in  's'old_pin,
                        in  's'new_pin)
<a class="link" href="#SIM.GetSimInfo">GetSimInfo</a>             (out 'a{sv}'info)
<a class="link" href="#SIM.GetPhonebookInfo">GetPhonebookInfo</a>       (out 'a{sv}'info)
<a class="link" href="#SIM.DeleteEntry">DeleteEntry</a>            (in  'i'index)
<a class="link" href="#SIM.StoreEntry">StoreEntry</a>             (in  'i'index,
                        in  's'name,
                        in  's'number)
<a class="link" href="#SIM.RetrieveEntry">RetrieveEntry</a>          (in  'i'index,
                        out 's'name,
                        out 's'number)
<a class="link" href="#SIM.GetMessagebookInfo">GetMessagebookInfo</a>     (out 'a{sv}'info)
<a class="link" href="#SIM.GetServiceCenterNumber">GetServiceCenterNumber</a> (out 's'number)
<a class="link" href="#SIM.SetServiceCenterNumber">SetServiceCenterNumber</a> (in  's'number)
<a class="link" href="#SIM.DeleteMessage">DeleteMessage</a>          (in  'i'index)
<a class="link" href="#SIM.StoreMessage">StoreMessage</a>           (in  's'recipient_number,
                        in  's'contents,
                        out 'i'index)
<a class="link" href="#SIM.SendStoredMessage">SendStoredMessage</a>      (in  'i'index,
                        out 'i'transaction_index)
<a class="link" href="#SIM.RetrieveMessage">RetrieveMessage</a>        (in  'i'index,
                        out 's'sender_number,
                        out 's'contents)
</pre></div><div class="refsect1" lang="en" xml:lang="en"><a id="id265950"></a><h2>Signals</h2><pre class="synopsis"><a class="link" href="#SIM::AuthStatus">AuthStatus</a> ('s'status)
</pre></div><div class="refsect1" lang="en" xml:lang="en"><a id="id259033"></a><h2>Implemented Interfaces</h2><p>org.freesmartphone.GSM.SIM implements
    org.freedesktop.DBus.Introspectable,
    org.freedesktop.DBus.Properties
    </p></div><div class="refsect1" lang="en" xml:lang="en"><a id="id259048"></a><h2>Properties</h2><pre class="synopsis"></pre></div><div class="refsect1" lang="en" xml:lang="en"><a id="id259064"></a><h2>Details</h2><div class="refsect2" lang="en" xml:lang="en"><a id="id259074"></a><h3><a id="SIM.SetEnableAuthCodeCheck"></a>SetEnableAuthCodeCheck ()</h3><a id="id259302" class="indexterm"></a><pre class="programlisting">SetEnableAuthCodeCheck (in  'b' check)</pre><p>Enable or disable checking for the SIM card authentification on startup.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>check</code></em>:</span></dt><dd><p>True, to turn SIM card authentification on. False, to turn it off.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id259347"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.07 command +CLCK,"SC",(check), see 3GPP </p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id259358"></a><h3><a id="SIM.GetEnableAuthCodeCheck"></a>GetEnableAuthCodeCheck ()</h3><a id="id259370" class="indexterm"></a><pre class="programlisting">GetEnableAuthCodeCheck (out 'b' check)</pre><p>Retrieve whether the SIM card checks for authentification on startup.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>check</code></em>:</span></dt><dd><p>True, if SIM card authentification is turned on. False, otherwise.</p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id258767"></a><h3><a id="SIM.GetAuthStatus"></a>GetAuthStatus ()</h3><a id="id258778" class="indexterm"></a><pre class="programlisting">GetAuthStatus (out 's' status)</pre><p>Retrieve the authentication status for the SIM card.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>status</code></em>:</span></dt><dd><p>
          The authentication status for the SIM card. Values to expect:
          "READY" = ME is not pending for any password,
          "SIM PIN" = ME is waiting for SIM PIN to be given,
          "SIM PUK" = ME is waiting for SIM PUK to be given,
          "SIM PIN2" = ME is waiting for SIM PIN 2 to be given,
          "SIM PUK2" = ME is waiting for SIM PUK 2 to be given.
          
        </p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id258827"></a><h3><a id="SIM.SendAuthCode"></a>SendAuthCode ()</h3><a id="id258838" class="indexterm"></a><pre class="programlisting">SendAuthCode (in  's' pin)</pre><p>Send authentication code (PIN) for the SIM card.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>pin</code></em>:</span></dt><dd><p>The authentication code.</p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304538"></a><h3><a id="SIM.Unlock"></a>Unlock ()</h3><a id="id304548" class="indexterm"></a><pre class="programlisting">Unlock (in  's' puk,
        in  's' new_pin)</pre><p>Send unlock code (PUK) and new authentication code (PIN).</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>puk</code></em>:</span></dt><dd><p>The unlock code.</p></dd><dt><span class="term"><em class="parameter"><code>new_pin</code></em>:</span></dt><dd><p>The new authentication code.</p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304609"></a><h3><a id="SIM.ChangeAuthCode"></a>ChangeAuthCode ()</h3><a id="id304619" class="indexterm"></a><pre class="programlisting">ChangeAuthCode (in  's' old_pin,
                in  's' new_pin)</pre><p>Change the authentication code.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>old_pin</code></em>:</span></dt><dd><p>The old authentication code.</p></dd><dt><span class="term"><em class="parameter"><code>new_pin</code></em>:</span></dt><dd><p>The new authentication code.</p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304679"></a><h3><a id="SIM.GetSimInfo"></a>GetSimInfo ()</h3><a id="id304690" class="indexterm"></a><pre class="programlisting">GetSimInfo (out 'a{sv}' info)</pre><p>Get information about the IMSI, the subscriber numbers,
        and the country code of the SIM card.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>info</code></em>:</span></dt><dd><p>
          Information about the SIM card. Expected tuples are:
          ("imei", string), ("subscriber_number", string), ("dial_code", string).
        </p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id304734"></a><h4>Implementation notes:</h4><p>
        This can map to the following GSM 07.07 commands:
          +CIMI (see 3GPP TS 07.07 Chapter 5.6),
          +CNUM (see 3GPP TS 07.07 Chapter 7.1).
          The dial code is computed by cross-referencing ITU E.212 (Land Mobile Numbering Plan).
      </p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304747"></a><h3><a id="SIM.GetPhonebookInfo"></a>GetPhonebookInfo ()</h3><a id="id304757" class="indexterm"></a><pre class="programlisting">GetPhonebookInfo (out 'a{sv}' info)</pre><p>Request information about the SIM phonebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>info</code></em>:</span></dt><dd><p>
        Information about the SIM phonebook storage. Tuples to expect:
        ("slots", int:value) = maximum of entries stored on the SIM,
        ("used", int:value) = actual number of entries stored on the SIM,
        ("number_length", int:value) = maximum length for the number,
        ("name_length", int:value) = maximum length for the name.
      </p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id304803"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.07 command +CPBR=?, see 3GPP TS 07.07 Chapter 8.12.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304813"></a><h3><a id="SIM.DeleteEntry"></a>DeleteEntry ()</h3><a id="id304824" class="indexterm"></a><pre class="programlisting">DeleteEntry (in  'i' index)</pre><p>Delete an entry in the SIM phonebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>index</code></em>:</span></dt><dd><p>Index of entry to delete.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id304866"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.07 command +CPBW=, see 3GPP TS 07.07 Chapter 8.14.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304877"></a><h3><a id="SIM.StoreEntry"></a>StoreEntry ()</h3><a id="id304888" class="indexterm"></a><pre class="programlisting">StoreEntry (in  'i' index,
            in  's' name,
            in  's' number)</pre><p>Store an entry in the SIM phonebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>index</code></em>:</span></dt><dd><p>Index of entry to store.</p></dd><dt><span class="term"><em class="parameter"><code>name</code></em>:</span></dt><dd><p>Name corresponding to the number.</p></dd><dt><span class="term"><em class="parameter"><code>number</code></em>:</span></dt><dd><p>Number corresponding to the name.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id304964"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.07 command +CPBW=, see 3GPP TS 07.07 Chapter 8.14.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304976"></a><h3><a id="SIM.RetrieveEntry"></a>RetrieveEntry ()</h3><a id="id304986" class="indexterm"></a><pre class="programlisting">RetrieveEntry (in  'i' index,
               out 's' name,
               out 's' number)</pre><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>index</code></em>:</span></dt><dd><p>Index of entry to retrieve.</p></dd><dt><span class="term"><em class="parameter"><code>name</code></em>:</span></dt><dd><p>Name corresponding to the number.</p></dd><dt><span class="term"><em class="parameter"><code>number</code></em>:</span></dt><dd><p>Number corresponding to the name.</p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id305061"></a><h3><a id="SIM.GetMessagebookInfo"></a>GetMessagebookInfo ()</h3><a id="id305072" class="indexterm"></a><pre class="programlisting">GetMessagebookInfo (out 'a{sv}' info)</pre><p>Request information about the SIM messagebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>info</code></em>:</span></dt><dd><p>
          Information about the SIM messagebook storage. Tuples to expect:
          ("slots", int:value) = maximum of messages stored on the SIM,
          ("used", int:value) = actual number of messages stored on the SIM,
          ("contents_length", int:value) = maximum length for a message,
        </p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305116"></a><h4>Implementation notes:</h4><p>This vaguely maps to the GSM 07.05 command +CMGL=?, see 3GPP TS 07.07 Chapter 3.4.2.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id305128"></a><h3><a id="SIM.GetServiceCenterNumber"></a>GetServiceCenterNumber ()</h3><a id="id305138" class="indexterm"></a><pre class="programlisting">GetServiceCenterNumber (out 's' number)</pre><p>Retrieve phone number of SMS Center Number.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>number</code></em>:</span></dt><dd><p>The SMS Center Number.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305180"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.05 command +CSCA?, see 3GPP TS 07.05 Chapter 3.3.1.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id305192"></a><h3><a id="SIM.SetServiceCenterNumber"></a>SetServiceCenterNumber ()</h3><a id="id305202" class="indexterm"></a><pre class="programlisting">SetServiceCenterNumber (in  's' number)</pre><p>Set phone number of SMS Center Number.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>number</code></em>:</span></dt><dd><p>The SMS Center Number.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305244"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.05 command +CSCA=(number,type), see 3GPP TS 07.05 Chapter 3.3.1.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id305256"></a><h3><a id="SIM.DeleteMessage"></a>DeleteMessage ()</h3><a id="id305266" class="indexterm"></a><pre class="programlisting">DeleteMessage (in  'i' index)</pre><p>Delete a message in the SIM messagebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>index</code></em>:</span></dt><dd><p>Index of message to delete.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305308"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.05 command +CMGD=(index), see 3GPP TS 07.05 Chapter 3.5.4.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id305320"></a><h3><a id="SIM.StoreMessage"></a>StoreMessage ()</h3><a id="id305330" class="indexterm"></a><pre class="programlisting">StoreMessage (in  's' recipient_number,
              in  's' contents,
              out 'i' index)</pre><p>Store a message in the SIM messagebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>recipient_number</code></em>:</span></dt><dd><p>Number of recipient.</p></dd><dt><span class="term"><em class="parameter"><code>contents</code></em>:</span></dt><dd><p>Contents of message.</p></dd><dt><span class="term"><em class="parameter"><code>index</code></em>:</span></dt><dd><p>Index of new message.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305407"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.05 command +CMGW=..., see 3GPP TS 07.05 Chapter 3.5.3.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id305419"></a><h3><a id="SIM.SendStoredMessage"></a>SendStoredMessage ()</h3><a id="id305429" class="indexterm"></a><pre class="programlisting">SendStoredMessage (in  'i' index,
                   out 'i' transaction_index)</pre><p>Sends a message stored in the SIM messagebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>index</code></em>:</span></dt><dd><p>Index of message.</p></dd><dt><span class="term"><em class="parameter"><code>transaction_index</code></em>:</span></dt><dd><p>Transaction index.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305489"></a><h4>Implementation notes:</h4><p>This maps to the GSM 07.05 command +CMGS=(index)..., see 3GPP TS 07.05 Chapter 3.5.x.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id305500"></a><h3><a id="SIM.RetrieveMessage"></a>RetrieveMessage ()</h3><a id="id305511" class="indexterm"></a><pre class="programlisting">RetrieveMessage (in  'i' index,
                 out 's' sender_number,
                 out 's' contents)</pre><p>Retrieve a message from the SIM messagebook.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>index</code></em>:</span></dt><dd><p>Index of message to retrieve.</p></dd><dt><span class="term"><em class="parameter"><code>sender_number</code></em>:</span></dt><dd><p>Number of sender.</p></dd><dt><span class="term"><em class="parameter"><code>contents</code></em>:</span></dt><dd><p>Contents of message.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305588"></a><h4>Implementation notes:</h4><p>
        This can map to the GSM 07.05 command +CMGR=(index), see 3GPP TS 07.05 Chapter 3.4.3.
        It might also map to the GSM 07.05 command +CMGL=(storage_spec), see 3GPP TS 07.05 Chapter 3.4.2.
      </p></div></div></div><div class="refsect1" lang="en" xml:lang="en"><a id="id305602"></a><h2>Signal Details</h2><div class="refsect2" lang="en" xml:lang="en"><a id="id305611"></a><h3><a id="SIM::AuthStatus"></a>The AuthStatus signal</h3><a id="id305621" class="indexterm"></a><pre class="programlisting">AuthStatus ('s' status)</pre><p>Sent, when the authentication status for the SIM card changes.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>status</code></em>:</span></dt><dd>
          The authentication status for the SIM card. See method GetAuthStatus for expected values.
        </dd></dl></div></div></div></div></div></body></html>
