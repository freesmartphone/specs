<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>freesmartphone.org GSM Call Interface</title><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /></head><body><div class="reference" lang="en" xml:lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="freesmartphone-gsm-call-interface"></a>freesmartphone.org GSM Call Interface</h1></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="refentrytitle"><a href="#Call">org.freesmartphone.GSM.Call</a></span><span class="refpurpose"> — Call interface</span></dt></dl></div><div class="refentry" lang="en" xml:lang="en"><a id="Call"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>org.freesmartphone.GSM.Call — Call interface</p></div><div class="refsynopsisdiv"><h2>Methods</h2><pre class="synopsis"><a class="link" href="#Call.Emergency">Emergency</a>          (out 's'number)
<a class="link" href="#Call.Activate">Activate</a>           (in  'i'id)
<a class="link" href="#Call.ActivateConference">ActivateConference</a> (in  'i'id)
<a class="link" href="#Call.Release">Release</a>            (in  's'message,
                    in  'i'id)
<a class="link" href="#Call.ReleaseHeld">ReleaseHeld</a>        (in  's'message)
<a class="link" href="#Call.ReleaseAll">ReleaseAll</a>         (in  's'message)
<a class="link" href="#Call.Initiate">Initiate</a>           (in  's'number,
                    in  's'type,
                    out 'i'id)
<a class="link" href="#Call.ListCalls">ListCalls</a>          (out 'ai'calls)
<a class="link" href="#Call.GetCallStatus">GetCallStatus</a>      (in  'i'id,
                    out 'i'id,
                    out 's'status,
                        'a{sv}'properties)
<a class="link" href="#Call.SendDtmf">SendDtmf</a>           (out 's'tone)
<a class="link" href="#Call.SetDtmfDuration">SetDtmfDuration</a>    (in  'i'mode)
<a class="link" href="#Call.GetDtmfDuration">GetDtmfDuration</a>    (out 'i'duration)
</pre></div><div class="refsect1" lang="en" xml:lang="en"><a id="id295094"></a><h2>Signals</h2><pre class="synopsis"><a class="link" href="#Call::CallStatus">CallStatus</a> ('i'id,
            's'status,
            'a{sv}'properties)
</pre></div><div class="refsect1" lang="en" xml:lang="en"><a id="id265925"></a><h2>Implemented Interfaces</h2><p>org.freesmartphone.GSM.Call implements
    org.freedesktop.DBus.Introspectable,
    org.freedesktop.DBus.Properties
    </p></div><div class="refsect1" lang="en" xml:lang="en"><a id="id265940"></a><h2>Properties</h2><pre class="synopsis"></pre></div><div class="refsect1" lang="en" xml:lang="en"><a id="id259016"></a><h2>Details</h2><div class="refsect2" lang="en" xml:lang="en"><a id="id259027"></a><h3><a id="Call.Emergency"></a>Emergency ()</h3><a id="id259038" class="indexterm"></a><pre class="programlisting">Emergency (out 's' number)</pre><p>Initiate an emergency call.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>number</code></em>:</span></dt><dd><p></p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id259300"></a><h3><a id="Call.Activate"></a>Activate ()</h3><a id="id259311" class="indexterm"></a><pre class="programlisting">Activate (in  'i' id)</pre><p>
        Activate a call as single active call. All previously active calls are
        put on hold. No difference is made whether this is an incoming
        call or a call that has been put on hold.
      </p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>id</code></em>:</span></dt><dd><p></p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id259357"></a><h3><a id="Call.ActivateConference"></a>ActivateConference ()</h3><a id="id259369" class="indexterm"></a><pre class="programlisting">ActivateConference (in  'i' id)</pre><p>
        Activate a call in addition to all previously active calls.
        No difference is made whether this is an incoming
        call or a call that has been put on hold.
      </p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>id</code></em>:</span></dt><dd><p></p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id258766"></a><h3><a id="Call.Release"></a>Release ()</h3><a id="id258777" class="indexterm"></a><pre class="programlisting">Release (in  's' message,
         in  'i' id)</pre><p>Release a call.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>message</code></em>:</span></dt><dd><p></p></dd><dt><span class="term"><em class="parameter"><code>id</code></em>:</span></dt><dd><p></p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id258838"></a><h3><a id="Call.ReleaseHeld"></a>ReleaseHeld ()</h3><a id="id258849" class="indexterm"></a><pre class="programlisting">ReleaseHeld (in  's' message)</pre><p>Release all held calls.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>message</code></em>:</span></dt><dd><p></p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304548"></a><h3><a id="Call.ReleaseAll"></a>ReleaseAll ()</h3><a id="id304558" class="indexterm"></a><pre class="programlisting">ReleaseAll (in  's' message)</pre><p>Release all calls, no matter whether active or put on hold.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>message</code></em>:</span></dt><dd><p></p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304600"></a><h3><a id="Call.Initiate"></a>Initiate ()</h3><a id="id304610" class="indexterm"></a><pre class="programlisting">Initiate (in  's' number,
          in  's' type,
          out 'i' id)</pre><p>Initiate an outgoing call.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>number</code></em>:</span></dt><dd><p></p></dd><dt><span class="term"><em class="parameter"><code>type</code></em>:</span></dt><dd><p></p></dd><dt><span class="term"><em class="parameter"><code>id</code></em>:</span></dt><dd><p></p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id304683"></a><h4>Implementation notes:</h4><p>
        This is implemented using the atd command.
      </p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304694"></a><h3><a id="Call.ListCalls"></a>ListCalls ()</h3><a id="id304704" class="indexterm"></a><pre class="programlisting">ListCalls (out 'ai' calls)</pre><p>Retrieve indices of calls.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>calls</code></em>:</span></dt><dd><p>Indices of calls in the system.</p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304748"></a><h3><a id="Call.GetCallStatus"></a>GetCallStatus ()</h3><a id="id304758" class="indexterm"></a><pre class="programlisting">GetCallStatus (in  'i'     id,
               out 'i'     id,
               out 's'     status,
                   'a{sv}' properties)</pre><p>Retrieve the status for a call in the system.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>id</code></em>:</span></dt><dd><p>The index of the call that you want to retreive the status for.</p></dd><dt><span class="term"><em class="parameter"><code>id</code></em>:</span></dt><dd><p>The index of the call.</p></dd><dt><span class="term"><em class="parameter"><code>status</code></em>:</span></dt><dd><p>
          The new status of the call. Expected values are:
          "incoming" = The call is incoming (but not yet accepted),
          "outgoing" = The call is outgoing (but not yet established),
          "active" = The call is the active call (you can talk),
          "held" = The call is being held,
          "released" = The call is being released.
          Further information can be part of the properties.
        </p></dd><dt><span class="term"><em class="parameter"><code>properties</code></em>:</span></dt><dd><p>
          An array of changed property values. To get the full status for a call,
          you need to issue the GetCallStatus() method. Note that the properties
          are optional. Expected tuples are:
          ( "number", string ) = The number of the peer (on incoming calls only if we received a CLIP)
          ... [ add more here ]
          ( "auxstatus", string ) = An auxillary connection status (if your modem supports that),
          ...
        </p></dd></dl></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304861"></a><h3><a id="Call.SendDtmf"></a>SendDtmf ()</h3><a id="id304871" class="indexterm"></a><pre class="programlisting">SendDtmf (out 's' tone)</pre><p>Send a Dual Tone Multiple Frequency (DTMF) signal during an active call.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>tone</code></em>:</span></dt><dd><p>The tone to send. Allowed values are: (0-9,#,*,A-D)</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id304913"></a><h4>Implementation notes:</h4><p>This maps to the TIA IS 101 command +VTS=(value), see 3GPP TS 07.07 Chapter C.2.11.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304924"></a><h3><a id="Call.SetDtmfDuration"></a>SetDtmfDuration ()</h3><a id="id304934" class="indexterm"></a><pre class="programlisting">SetDtmfDuration (in  'i' mode)</pre><p>Set the duration of Dual Tone Multiple Frequency (DTMF) signals.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>mode</code></em>:</span></dt><dd><p>The duration to set in 1/10ths of seconds. 0 sets a vendor default.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id304977"></a><h4>Implementation notes:</h4><p>This maps to the TIA IS 101 command +VTD=(value), see 3GPP TS 07.07 Chapter C.2.12.</p></div></div><div class="refsect2" lang="en" xml:lang="en"><a id="id304987"></a><h3><a id="Call.GetDtmfDuration"></a>GetDtmfDuration ()</h3><a id="id304998" class="indexterm"></a><pre class="programlisting">GetDtmfDuration (out 'i' duration)</pre><p>Get the duration of Dual Tone Multiple Frequency (DTMF) signals.</p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>duration</code></em>:</span></dt><dd><p>The current duration in 1/10ths of seconds.</p></dd></dl></div><div class="refsect3" lang="en" xml:lang="en"><a id="id305040"></a><h4>Implementation notes:</h4><p>This maps to the TIA IS 101 command +VTD?, see 3GPP TS 07.07 Chapter C.2.12.</p></div></div></div><div class="refsect1" lang="en" xml:lang="en"><a id="id305053"></a><h2>Signal Details</h2><div class="refsect2" lang="en" xml:lang="en"><a id="id305062"></a><h3><a id="Call::CallStatus"></a>The CallStatus signal</h3><a id="id305073" class="indexterm"></a><pre class="programlisting">CallStatus ('i'     id,
            's'     status,
            'a{sv}' properties)</pre><p>
        Sent whenever there is any status or property change on a call in the system,
        no matter whether this is an incoming, active, held, or released call.
        </p><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>id</code></em>:</span></dt><dd>The index of the call that changed its status or properties.</dd><dt><span class="term"><em class="parameter"><code>status</code></em>:</span></dt><dd>
          The new status of the call. Expected values are:
          "incoming" = The call is incoming (but not yet accepted),
          "outgoing" = The call is outgoing (but not yet established),
          "active" = The call is the active call (you can talk),
          "held" = The call is being held,
          "released" = The call is being released.
          Further information can be part of the properties.
        </dd><dt><span class="term"><em class="parameter"><code>properties</code></em>:</span></dt><dd>
          An array of changed property values. To get the full status for a call,
          you need to issue the GetCallStatus() method. Note that the properties
          are optional. Expected tuples are:
          ( "reason", string ) = The reason for the status change (on outgoing calls e.g. 'BUSY' or 'NO CARRIER')
          ( "number", string ) = The number of the peer (on incoming calls only if we received a CLIP)
          ... [ add more here ]
          ( "auxstatus", string ) = An auxillary connection status (if your modem supports that),
          ...
        </dd></dl></div></div></div></div></div></body></html>
